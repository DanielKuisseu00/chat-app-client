[{"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\index.js":"1","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\reportWebVitals.js":"2","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\App.js":"3","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\Chat.js":"4","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\Register.js":"5","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\Login.js":"6","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\ErrorPage.js":"7","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\util\\axios\\axiosInstance.js":"8","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\util\\axios\\routes.js":"9","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\redux\\store.js":"10","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\redux\\userSlice.js":"11","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\SetAvatar.js":"12","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\data\\users.js":"13"},{"size":478,"mtime":1647563844947,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":1647546547439,"results":"16","hashOfConfig":"15"},{"size":671,"mtime":1648154986550,"results":"17","hashOfConfig":"15"},{"size":7000,"mtime":1648155480693,"results":"18","hashOfConfig":"15"},{"size":5162,"mtime":1648155072394,"results":"19","hashOfConfig":"15"},{"size":4271,"mtime":1648155039116,"results":"20","hashOfConfig":"15"},{"size":127,"mtime":1647551302715,"results":"21","hashOfConfig":"15"},{"size":291,"mtime":1647713271712,"results":"22","hashOfConfig":"15"},{"size":276,"mtime":1648152428259,"results":"23","hashOfConfig":"15"},{"size":823,"mtime":1647563569462,"results":"24","hashOfConfig":"15"},{"size":420,"mtime":1647563377015,"results":"25","hashOfConfig":"15"},{"size":3128,"mtime":1648155621360,"results":"26","hashOfConfig":"15"},{"size":1594,"mtime":1648063464407,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"1qo83yv",{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\index.js",[],[],["69","70"],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\reportWebVitals.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\App.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\Chat.js",["71"],[],"import React, { useState, useEffect } from \"react\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\nimport styled from \"styled-components\";\r\nimport io from \"socket.io-client\";\r\nimport Logo from \"../assets/chaty-logos_white.png\";\r\nimport { AiOutlineSend } from \"react-icons/ai\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { removeUser } from \"../redux/userSlice\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { axiosInstance } from \"../util/axios/axiosInstance\";\r\nimport { getAllUsersRoute } from \"../util/axios/routes\";\r\n\r\nconst socket = io.connect(\"https://chatty-socket-api.herokuapp.com/\");\r\n\r\nconst Chat = () => {\r\n  const [room, setRoom] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n  const [messages, setMessages] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.user.value);\r\n\r\n  // Wait for message to recieve\r\n  useEffect(() => {\r\n    socket.on(\"recieve_message\", (data) => {\r\n      setMessages((list) => [...list, data]);\r\n    });\r\n  }, [socket]);\r\n\r\n  // function to join room\r\n  const joinRoom = (roomCode) => {\r\n    setRoom(roomCode);\r\n    socket.emit(\"join_room\", roomCode);\r\n  };\r\n\r\n  // function to get all users\r\n  useEffect(() => {\r\n    const request = async () => {\r\n      try {\r\n        const { data } = await axiosInstance.get(getAllUsersRoute);\r\n        console.log(user);\r\n        joinRoom(user.roomCode);\r\n        setUsers([...data]);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n    request();\r\n  });\r\n\r\n  // funciton to send socket message to client\r\n  const sendMessage = async () => {\r\n    const currentMessage = {\r\n      room,\r\n      message,\r\n      id: Math.floor(Math.random() * 100000),\r\n      sender: user.username,\r\n      time: `${new Date(Date.now()).getHours()} : ${new Date(\r\n        Date.now()\r\n      ).getMinutes()}`,\r\n    };\r\n\r\n    await socket.emit(\"send_message\", currentMessage);\r\n    await setMessages((list) => [...list, currentMessage]);\r\n    setMessage(\"\");\r\n    console.log(messages);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <ChatContainer>\r\n        <ContactsContainer>\r\n          <Top>\r\n            <Image src={Logo} />\r\n            <Title>Chatty</Title>\r\n          </Top>\r\n          <Bottom>\r\n            {users.map((user) => {\r\n              const userRoomCode = user.roomCode;\r\n              return (\r\n                <Contact key={user._id} onClick={() => joinRoom(userRoomCode)}>\r\n                  <ProfileImage src={user.avatar} />\r\n                  <Username>{user.username}</Username>\r\n                </Contact>\r\n              );\r\n            })}\r\n          </Bottom>\r\n        </ContactsContainer>\r\n        <MessageContainer>\r\n          <MessageTop>\r\n            <PowerButton\r\n              onClick={() => {\r\n                dispatch(removeUser());\r\n                navigate(\"/\");\r\n              }}\r\n            >\r\n              <PowerText>Logout</PowerText>\r\n            </PowerButton>\r\n\r\n            <MessageTopText>Online: </MessageTopText>\r\n            <OnlineBubble />\r\n          </MessageTop>\r\n          <MessageMiddle>\r\n            <ScrollToBottom style={{ height: \"100%\", display: \"flex\" }}>\r\n              {messages.map((message) => {\r\n                return (\r\n                  <MessageBubble\r\n                    key={message.id}\r\n                    sender={user.username === message.sender ? true : false}\r\n                  >\r\n                    {message.message}\r\n                  </MessageBubble>\r\n                );\r\n              })}\r\n            </ScrollToBottom>\r\n          </MessageMiddle>\r\n          <MessageBottom>\r\n            <Input\r\n              name=\"message\"\r\n              placeholder=\"blah blah\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              onKeyDown={(e) => (e = e.key === \"Enter\" && sendMessage())}\r\n              autoComplete=\"off\"\r\n            />\r\n            <SendButton onClick={sendMessage}>\r\n              <AiOutlineSend style={{ color: \"black\" }} />\r\n            </SendButton>\r\n          </MessageBottom>\r\n        </MessageContainer>\r\n      </ChatContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  max-width: 100vw;\r\n  height: 100vh;\r\n  background: #131224;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ChatContainer = styled.div`\r\n  width: 90%;\r\n  height: 90%;\r\n  background: #080421;\r\n  display: flex;\r\n`;\r\n\r\nconst ContactsContainer = styled.div`\r\n  flex: 1;\r\n  disaplay: flex;\r\n  overflow: auto;\r\n  scrollbar-width: none;\r\n`;\r\n\r\nconst Top = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 100px;\r\n  height: 100px;\r\n  object-fit: cover;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: white;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  flex: 4;\r\n  background: #080421;\r\n  padding: 0px 10px;\r\n`;\r\n\r\nconst Contact = styled.div`\r\n  height: 80px;\r\n  max-width: 100%;\r\n  background: #3f3b54;\r\n  margin: 10px 0px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 10px;\r\n  color: white;\r\n  transiton: all 800ms ease-in-out;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #595957;\r\n  }\r\n`;\r\n\r\nconst ProfileImage = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 100%;\r\n  object-fit: cover;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst Username = styled.h3`\r\n  font-weight: 400;\r\n`;\r\n\r\nconst MessageContainer = styled.div`\r\n  flex: 3;\r\n  background: black;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst MessageTop = styled.div`\r\n  height: 10%;\r\n  background: #080421;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  padding: 0 10px;\r\n`;\r\n\r\nconst PowerButton = styled.div`\r\n  background: black;\r\n  padding: 10px;\r\n  color: white;\r\n  margin: 5px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst PowerText = styled.p``;\r\n\r\nconst MessageTopText = styled.p`\r\n  color: white;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst OnlineBubble = styled.div`\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 100%;\r\n  background: #22ff00;\r\n`;\r\n\r\nconst MessageMiddle = styled.div`\r\n  height: 80%;\r\n  display: flex;\r\n`;\r\n\r\nconst MessageBubble = styled.div`\r\n  padding: 10px;\r\n  width: 100px;\r\n  margin-bottom: 10px;\r\n  height: 30px;\r\n  background: teal;\r\n  border-radius: 10px;\r\n  align-self: ${(props) => (props.sender ? \"flex-end\" : \"flex-start\")};\r\n`;\r\n\r\nconst MessageBottom = styled.div`\r\n  height: 10%;\r\n  background: #080421;\r\n  display: flex;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 95%;\r\n  font-weight: bold;\r\n  font-size: 15px;\r\n  padding: 0 10px;\r\n  &: focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst SendButton = styled.div`\r\n  width: 5%;\r\n  background: #03fcc2;\r\n  color: black;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport default Chat;\r\n","C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\Register.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\Login.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\ErrorPage.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\util\\axios\\axiosInstance.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\util\\axios\\routes.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\redux\\store.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\redux\\userSlice.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\pages\\SetAvatar.js",[],[],"C:\\Users\\hillj\\Desktop\\dev\\react\\chaty\\client\\src\\data\\users.js",[],[],{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","severity":1,"message":"77","line":29,"column":6,"nodeType":"78","endLine":29,"endColumn":14,"suggestions":"79"},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"react-hooks/exhaustive-deps","React Hook useEffect has an unnecessary dependency: 'socket'. Either exclude it or remove the dependency array. Outer scope values like 'socket' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["82"],"no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},"Update the dependencies array to be: []",{"range":"85","text":"86"},[1132,1140],"[]"]